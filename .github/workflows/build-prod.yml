# Build the production env app on EAS Cloud service.
name: 'Build | Production'
run-name: Build | Production for ${{ inputs.platform }} on ${{ github.ref_name }}
on:
  workflow_dispatch:
    inputs:
      platform:
        type: choice
        description: Which platform to build for
        options:
          - ios
          - android
          - all
        required: true
      email:
        type: choice
        description: Notify the client via email?
        options:
          - false
          - true
        required: true
jobs:
  use-common-config:
    name: 'Build (production / ${{ github.event.inputs.platform }})'
    uses: ./.github/workflows/common-config.yml
    secrets: inherit
    with:
      platform: ${{ github.event.inputs.platform }}
      email: ${{ github.event.inputs.email }}
      environment: prod
