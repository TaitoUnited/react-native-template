# Build the test env app on EAS Cloud service.
name: 'Build | Test'
run-name: Build | Test for ${{ inputs.platform }} on ${{ github.ref_name }}
on:
  workflow_dispatch:
    inputs:
      platform:
        type: choice
        description: Which platform to build for
        options:
          - ios
          - android
          - all
        required: true
        default: all
      email:
        type: choice
        description: Notify the client via email?
        options:
          - yes
          - no
        required: true
        default: no
jobs:
  use-common-config:
    uses: ./.github/workflows/common-config-test.yml
    secrets: inherit
    with:
      platform: ${{ github.event.inputs.platform }}
      email: ${{ github.event.inputs.email }}
      environment: test
