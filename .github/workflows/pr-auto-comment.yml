name: EAS Comment on PR creation

on:
  pull_request:
    types: [opened, synchronize, edited]

jobs:
  add_comment:
    runs-on: ubuntu-latest
    steps:
      - name: Add a comment to the PR
        uses: peter-evans/create-or-update-comment@v3
        with:
          issue-number: ${{ github.event.pull_request.number }}
          body: |
            Hi! ðŸ‘‹

            To ensure a smooth review process, it is recommended to trigger a **build** (or an **update** if no native changes have been made since the last build). 

            You can do so by applying the appropriate **label** based on your needs:

            â€¢	ðŸ—ï¸ ðŸ **iOS Build**: Select `eas-build-ios:dev` to trigger a build for iOS
            â€¢	ðŸ—ï¸ ðŸ¤– **Android Build**: Select `eas-build-android:dev` to trigger a build for Android
            â€¢	ðŸ—ï¸ ðŸ“² **All Platforms Build**: Select `eas-build-all:dev` to trigger builds for both platforms
            â€¢	ðŸŒ âš™ï¸ **EAS Update**: Select `eas-update` to trigger an update (automatically for both platforms)

            > [!NOTE] 
            > The update is managed by a [custom GitHub action](/.github/workflows/eas-trigger.yml), while the build actions are handled directly via [EAS integration](https://expo.dev/accounts/taito-united/projects/taito-template/github).

            Once you apply the respective label, the appropriate workflow will be triggered automatically. You can monitor the progress in the [Actions tab](${{ github.server_url }}/${{ github.repository }}/actions).

            > [!TIP] 
            > If you want to trigger a new build or update after some new code changes, you can remove the label and apply it again.

            For more information, refer to the [PR Reviews Guide](./docs/PR_REVIEWS.md).

            > [!INFO] 
            > Once you merge to the **dev** branch, a build will be triggered automatically for each platform using the dev profile.
